# üåê –ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VK API

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞ VK API –¥–ª—è —á—Ç–µ–Ω–∏—è –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤.

## –ß–∞—Å—Ç—å 1: –ü–æ–Ω–∏–º–∞–Ω–∏–µ VK API

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞?

**Access Token** (—Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞) - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ VK.

### –¢–∏–ø—ã —Ç–æ–∫–µ–Ω–æ–≤

1. **User Token** - —Ç–æ–∫–µ–Ω –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - –ú–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ –≥—Ä—É–ø–ø—ã
   - –ú–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è

2. **Service Token** - —Ç–æ–∫–µ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
   - –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–∞—à–µ–≥–æ —Å–ª—É—á–∞—è

3. **Community Token** - —Ç–æ–∫–µ–Ω —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
   - –¢–æ–ª—å–∫–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤–æ–∏–º —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º

–î–ª—è –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞ –Ω—É–∂–µ–Ω **User Token**.

## –ß–∞—Å—Ç—å 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ (–ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)

–≠—Ç–æ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### –®–∞–≥ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VK Token Generator

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: <https://vkhost.github.io/>
2. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "VK Token Generator"

### –®–∞–≥ 2: –í—ã–±–æ—Ä –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

–û—Ç–º–µ—Ç—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —á–µ–∫–±–æ–∫—Å—ã:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞:**

- ‚úÖ `wall` - –¥–æ—Å—Ç—É–ø –∫ —Å—Ç–µ–Ω–µ (–ø–æ—Å—Ç–∞–º)
- ‚úÖ `groups` - –¥–æ—Å—Ç—É–ø –∫ –≥—Ä—É–ø–ø–∞–º
- ‚úÖ `photos` - –¥–æ—Å—Ç—É–ø –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º
- ‚úÖ `video` - –¥–æ—Å—Ç—É–ø –∫ –≤–∏–¥–µ–æ

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞:**

- ‚¨ú `offline` - –±–µ—Å—Å—Ä–æ—á–Ω—ã–π –¥–æ—Å—Ç—É–ø (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- ‚¨ú `docs` - –¥–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Get Token"**
2. –í–∞—Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ VK
3. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç VK (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –≤–æ—à–ª–∏)
4. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é (–Ω–∞–∂–º–∏—Ç–µ "–†–∞–∑—Ä–µ—à–∏—Ç—å")
5. –í–∞—Å –≤–µ—Ä–Ω–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ vkhost.github.io
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ –ø–æ–ª—è **"Access Token"**

–¢–æ–∫–µ–Ω –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```
vk1.a.1234567890abcdefghijklmnopqrstuvwxyz1234567890ABCDEFG
```

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –≤ `.env`:

```env
VK_ACCESS_TOKEN=vk1.a.1234567890abcdefghijklmnopqrstuvwxyz1234567890ABCDEFG
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

–ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ —Ç–æ–∫–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ <YOUR_TOKEN> –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω
curl "https://api.vk.com/method/users.get?user_ids=1&access_token=<YOUR_TOKEN>&v=5.131"
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```json
{
  "response": [
    {
      "id": 1,
      "first_name": "–ü–∞–≤–µ–ª",
      "last_name": "–î—É—Ä–æ–≤"
    }
  ]
}
```

## –ß–∞—Å—Ç—å 3: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ (–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±)

–ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–± –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª –∏–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥.

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è VK

1. –û—Ç–∫—Ä–æ–π—Ç–µ <https://vk.com/apps?act=manage>
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ:** `Content Aggregator` (–ª—é–±–æ–µ)
   - **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** `Standalone-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ`
4. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é: **"–î—Ä—É–≥–æ–µ"**
5. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å"**

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"**
3. –ù–∞–π–¥–∏—Ç–µ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `12345678`)
   - **–ó–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–ª—é—á** (Service Token) - –ù–ï –Ω—É–∂–µ–Ω –Ω–∞–º

### –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ User Token —á–µ—Ä–µ–∑ OAuth

–°–æ–∑–¥–∞–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π URL –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

```
https://oauth.vk.com/authorize?client_id=APP_ID&display=page&redirect_uri=https://oauth.vk.com/blank.html&scope=wall,groups,photos,video,offline&response_type=token&v=5.131
```

–ó–∞–º–µ–Ω–∏—Ç–µ `APP_ID` –Ω–∞ –≤–∞—à ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```
https://oauth.vk.com/authorize?client_id=12345678&display=page&redirect_uri=https://oauth.vk.com/blank.html&scope=wall,groups,photos,video,offline&response_type=token&v=5.131
```

1. –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç URL –≤ –±—Ä–∞—É–∑–µ—Ä
2. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø
3. –í–∞—Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ `https://oauth.vk.com/blank.html#access_token=...`
4. –í –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –Ω–∞–π–¥–∏—Ç–µ `access_token=` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

–ü—Ä–∏–º–µ—Ä URL –ø–æ—Å–ª–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞:

```
https://oauth.vk.com/blank.html#access_token=vk1.a.AbCdEf...&expires_in=0&user_id=123456
```

–¢–æ–∫–µ–Ω - —ç—Ç–æ —á–∞—Å—Ç—å –º–µ–∂–¥—É `access_token=` –∏ `&expires_in`:

```
vk1.a.AbCdEf...
```

## –ß–∞—Å—Ç—å 4: –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (scope)

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è –±–æ—Ç–∞

| –ü—Ä–∞–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ | –ù—É–∂–Ω–æ? |
|-------|----------|--------|
| `wall` | –ß—Ç–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —Å–æ —Å—Ç–µ–Ω—ã | ‚úÖ –î–∞ |
| `groups` | –†–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ | ‚úÖ –î–∞ |
| `photos` | –î–æ—Å—Ç—É–ø –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º | ‚úÖ –î–∞ |
| `video` | –î–æ—Å—Ç—É–ø –∫ –≤–∏–¥–µ–æ | ‚úÖ –î–∞ |
| `docs` | –î–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º | ‚ö†Ô∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| `offline` | –ë–µ—Å—Å—Ä–æ—á–Ω—ã–π —Ç–æ–∫–µ–Ω | ‚úÖ –î–∞ |

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤

–ü—Ä–∞–≤–∞ –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é:

```
scope=wall,groups,photos,video,offline
```

## –ß–∞—Å—Ç—å 5: –ü–æ–∏—Å–∫ –≥—Ä—É–ø–ø –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ URL –≥—Ä—É–ø–ø—ã

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ –≥—Ä—É–ø–ø—É:

```
https://vk.com/apiclub
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë –Ω–∞–ø—Ä—è–º—É—é:

```yaml
- type: vk
  url: https://vk.com/apiclub
  enabled: true
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ—Ä–æ—Ç–∫–æ–µ –∏–º—è (screen_name)

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥—Ä—É–ø–ø—É –≤ VK
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ URL: `https://vk.com/SCREEN_NAME`
3. `SCREEN_NAME` - —ç—Ç–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ

–ü—Ä–∏–º–µ—Ä—ã:

- `apiclub` ‚Üí `https://vk.com/apiclub`
- `club12345` ‚Üí `https://vk.com/club12345`
- `public67890` ‚Üí `https://vk.com/public67890`

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ ID –≥—Ä—É–ø–ø—ã

–ï—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ —á–∏—Å–ª–æ–≤–æ–π ID –≥—Ä—É–ø–ø—ã:

```yaml
- type: vk
  url: https://vk.com/club12345  # –ì–¥–µ 12345 - —ç—Ç–æ ID
  enabled: true
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –≥—Ä—É–ø–ø–µ

–ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –±–æ—Ç –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –≥—Ä—É–ø–ø—É:

```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ apiclub –Ω–∞ screen_name –≤–∞—à–µ–π –≥—Ä—É–ø–ø—ã
curl "https://api.vk.com/method/wall.get?domain=apiclub&count=1&access_token=<YOUR_TOKEN>&v=5.131"
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON —Å –ø–æ—Å—Ç–∞–º–∏:

```json
{
  "response": {
    "count": 1234,
    "items": [
      {
        "id": 123,
        "from_id": -1,
        "owner_id": -1,
        "date": 1234567890,
        "text": "–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞..."
      }
    ]
  }
}
```

## –ß–∞—Å—Ç—å 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –∫–æ–Ω—Ñ–∏–≥–µ

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/sources.yaml`:

```yaml
sources:
  # VK API –∫–ª—É–±
  - type: vk
    url: https://vk.com/apiclub
    enabled: true

  # VK –ø—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  - type: vk
    url: https://vk.com/durov
    enabled: true

  # VK –≥—Ä—É–ø–ø–∞ –ø–æ ID
  - type: vk
    url: https://vk.com/club12345678
    enabled: true
```

## –ß–∞—Å—Ç—å 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –ò—Ç–æ–≥–æ–≤—ã–π `.env` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å

```env
# VK API
VK_ACCESS_TOKEN=vk1.a.1234567890abcdefghijklmnopqrstuvwxyz
VK_API_VERSION=5.131
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `python -m app`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ VK API
3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞—Ç—å –ø–æ—Å—Ç—ã –∏–∑ VK –≥—Ä—É–ø–ø

## –ß–∞—Å—Ç—å 8: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Invalid access_token"

**–ü—Ä–∏—á–∏–Ω—ã:**

- –¢–æ–∫–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫ (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `offline`)
- –¢–æ–∫–µ–Ω –±—ã–ª –æ—Ç–æ–∑–≤–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:**

- –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–∏–ª–∏ –ø—Ä–∞–≤–æ `offline`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ —Ç–æ–∫–µ–Ω–µ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: "Access denied: wall access denied"

**–ü—Ä–∏—á–∏–Ω—ã:**

- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ —É —Ç–æ–∫–µ–Ω–∞
- –ì—Ä—É–ø–ø–∞ –ø—Ä–∏–≤–∞—Ç–Ω–∞—è –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç–∞—è

**–†–µ—à–µ–Ω–∏–µ:**

- –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–æ–º `wall`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≥—Ä—É–ø–ø–∞ –ø—É–±–ª–∏—á–Ω–∞—è

### –ü—Ä–æ–±–ª–µ–º–∞: "Group is deactivated or deleted"

**–ü—Ä–∏—á–∏–Ω—ã:**

- –ì—Ä—É–ø–ø–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
- –ì—Ä—É–ø–ø–∞ —É–¥–∞–ª–µ–Ω–∞
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID –≥—Ä—É–ø–ø—ã

**–†–µ—à–µ–Ω–∏–µ:**

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≥—Ä—É–ø–ø—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥—É—é –≥—Ä—É–ø–ø—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å screen_name

### –ü—Ä–æ–±–ª–µ–º–∞: "Too many requests per second"

**–ü—Ä–∏—á–∏–Ω—ã:**

- –°–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API

**–†–µ—à–µ–Ω–∏–µ:**

- –£–≤–µ–ª–∏—á—å—Ç–µ `SCRAPE_INTERVAL_SECONDS` –≤ `.env`
- –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `RATE_LIMIT_REQUESTS_PER_MINUTE`

### –ü—Ä–æ–±–ª–µ–º–∞: "User authorization failed"

**–ü—Ä–∏—á–∏–Ω—ã:**

- –¢–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω –æ—Ç –∏–º–µ–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω Service Token –≤–º–µ—Å—Ç–æ User Token

**–†–µ—à–µ–Ω–∏–µ:**

- –ü–æ–ª—É—á–∏—Ç–µ User Token —á–µ—Ä–µ–∑ OAuth
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ vkhost.github.io –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞

## –ß–∞—Å—Ç—å 9: –õ–∏–º–∏—Ç—ã VK API

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —á–∞—Å—Ç–æ—Ç–µ –∑–∞–ø—Ä–æ—Å–æ–≤

VK API –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ª–∏–º–∏—Ç—ã:

- **3 –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥—É** –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- **5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É** –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ execute

–ù–∞—à –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç —ç—Ç–∏ –ª–∏–º–∏—Ç—ã —á–µ—Ä–µ–∑ `RateLimiter`.

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```env
# –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É
SCRAPE_INTERVAL_SECONDS=60

# –ù–µ –±–æ–ª–µ–µ 30 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É (–∑–∞–ø–∞—Å)
RATE_LIMIT_REQUESTS_PER_MINUTE=30
```

## –ß–∞—Å—Ç—å 10: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö**
   - –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` –≤ git
   - –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞—Ö
   - –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω –Ω–µ–∑–Ω–∞–∫–æ–º—Ü–∞–º

2. **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω**
   - –ú–µ–Ω—è–π—Ç–µ —Ç–æ–∫–µ–Ω —Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤
   - –û—Ç–∑—ã–≤–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã

3. **–•—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env` —Ñ–∞–π–ª
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `chmod 600 .env`

### –û—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–∞

–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ <https://vk.com/settings?act=security>
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"
3. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –≤—Å–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Å—Å–∏–∏
4. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [VK API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://dev.vk.com/reference)
- [VK API –º–µ—Ç–æ–¥—ã](https://dev.vk.com/method)
- [–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞](https://dev.vk.com/reference/access-rights)
- [–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è API](https://dev.vk.com/reference/api-limits)

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å VK API –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! üéâ
